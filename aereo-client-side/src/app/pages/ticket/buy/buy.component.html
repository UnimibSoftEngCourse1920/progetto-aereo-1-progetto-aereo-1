<section class="hero is-primary is-fullheight is-bold">
  <div class="hero-body is-inline is-inline-block">

    <!-- gli oggetti di cui mostrare i parametri sono loggedUser e flightChosen, che sono rispettivamente un utente e un volo -->
    <!-- prenota deve diventare una checkbox il cui valore viene salvato nella variabile reserved (c'è già!) -->
    <!-- in promoList si trovano tutte le promo, scorrendole si può vedere se è applicabile a questo volo e mostrare il prezzo modificato (magari di un colore diverso!) -->


    <h1 class="title">
      Acquisto Biglietto Volo #{{flightChosen.id}}:
    </h1>

    <table class="table has-text-centered">
      <tbody>
      <tr>
        <th>Da:</th>
        <td>{{flightChosen.departureLocation}}</td>
        <th>A:</th>
        <td>{{flightChosen.landingLocation}}</td>
      </tr>
      <tr>
        <th>Data:</th>
        <td>{{flightChosen.departureDay}}</td>
        <th>Partenza:</th>
        <td>{{flightChosen.departureHour}}</td>
      </tr>
      <tr>
        <th>Prezzo:</th>
        <th>{{flightChosen.price}}€</th>
        <td><font size="-1">(ScontoPromo: -<!--SCONTO PROMO SE C'È)--> %)</font></td>
      </tr>
      <tr>
        <th>
          <button class="button is-success" type="submit" (click)="buyTicketWithMoney()" [disabled]="CCInput.invalid">
            Acquista Ora!
          </button>
        </th>
        <th>
          <button class="button is-success" [disabled]="(loggedUser==null)" (click)="buyTicketWithPoints()">
            Gratis con {{(flightChosen.price) / 10}} punti!
          </button>
          <p class="help is-danger" *ngIf="(loggedUser==null)"><br>Only for registered users!</p>
        </th>
        <th>
          <input type="checkbox" value=true [(ngModel)]="reserved" [disabled]="(loggedUser==null)">
          <!--non so se funzionano i Disabled-->
          Prenota!
          <p class="help is-danger" *ngIf="(loggedUser==null)"><br>Only for registered users!</p><br>
        </th>
      </tr>
      </tbody>
    </table>
    <h2><b>Saldo Punti fedeltà:  {{loggedUser.fidelityCard.points}} </b></h2>

    <div class="field">
      <label class="label">Credit Card number</label>
      <div class="control">
        <input #CCInput="ngModel" [(ngModel)]="CCInput" class="input" maxlength="18" name="CCinfo"
               pattern="[0-9][0-9][0-1][0-9] [0-9][0-9][0-9][0-9] [0-9][0-9][0-9][0-9]" placeholder="1234 1234 1234"
               type="text">
      </div>
      <p class="help is-danger" *ngIf="(CCInput.touched || CCInput.dirty) && CCInput.invalid">
        Incorrect CC number</p>
    </div>

  </div>
</section>
